(this["webpackJsonpdeposit-box_app"]=this["webpackJsonpdeposit-box_app"]||[]).push([[0],[,,function(e,t,n){e.exports={userManual:"UserManual_userManual__10TaD",userManual__Container:"UserManual_userManual__Container__2YCbL",userManual__List:"UserManual_userManual__List__2buBF",userManual__Paragraph:"UserManual_userManual__Paragraph__2P3P9"}},,function(e,t,n){e.exports={backlitScreen:"BacklitScreen_backlitScreen__2Vw2e",backlitScreenOff:"BacklitScreen_backlitScreenOff__2sdI2",backlitScreen__LockStatus:"BacklitScreen_backlitScreen__LockStatus__1SwVn",backlitScreen__StatusMessage:"BacklitScreen_backlitScreen__StatusMessage__2L8OR"}},,,,,,,,,,function(e,t,n){e.exports={keypadButton:"KeypadButton_keypadButton__TOC4H",keypadButton__Symbol:"KeypadButton_keypadButton__Symbol__2VaQb"}},function(e,t,n){e.exports={controlPanel:"ControlPanel_controlPanel__1xKdK",controlPanel__Serial:"ControlPanel_controlPanel__Serial__1rK-t"}},,,function(e,t,n){e.exports={numberKeypad:"NumberKeypad_numberKeypad__KHwRv"}},function(e,t,n){e.exports=n(32)},,,,,function(e,t,n){},,,,,,,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(5),o=n.n(s),c=(n(24),n(6)),l=n(7),u=n(10),i=n(9),d=n(3),_=n(4),b=n.n(_),f=function(e){Object(u.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props.statusMessage;return this.props.enteringPasscode&&(e=this.props.passcode),r.a.createElement("div",{className:this.props.screenIsOff?b.a.backlitScreen:[b.a.backlitScreen,b.a.backlitScreenOff].join(" ")},r.a.createElement("div",{className:b.a.backlitScreen__LockStatus},this.props.lockStatus),r.a.createElement("div",{className:b.a.backlitScreen__StatusMessage},e))}}]),n}(a.Component),E=Object(d.b)((function(e){return{lockStatus:e.lockStatus,statusMessage:e.statusMessage,screenIsOff:e.screenIsOff,passcode:e.passcode,enteringPasscode:e.enteringPasscode}}))(f),S=n(14),p=n.n(S),m=function(e){return r.a.createElement("div",{className:p.a.keypadButton,onClick:e.clicked},e.children,r.a.createElement("div",{className:p.a.keypadButton__Symbol},String.fromCharCode(+e.symbol)))},k=n(18),O=n.n(k),y=function(e){Object(u.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).keyboardKeys=["0","1","2","3","4","5","6","7","8","9","L","l","*","A","a","B","b","ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],e.keypadButtons=[{button:"7",symbol:null},{button:"8",symbol:"8593"},{button:"9",symbol:null},{button:"4",symbol:"8592"},{button:"5",symbol:null},{button:"6",symbol:"8594"},{button:"1",symbol:null},{button:"2",symbol:"8595"},{button:"3",symbol:null},{button:"*",symbol:"66"},{button:"0",symbol:null},{button:"L",symbol:"65"}],e.unlockedValidation=function(t){var n=e.props,a=n.boxPasscode,r=n.onSetBoxPasscode,s=n.onLocking,o=n.onReady,c=n.onChangeLockStatus,l=n.onError,u=!1,i=t.length;if(7===i&&("L"===t[i-1]||"l"===t[i-1])){var d=t.slice(0,i-1);isNaN(d)||(u=!0)}!u||""!==a&&a!==t.slice(0,6)?l():(r(),s(),setTimeout((function(){o(),c()}),3e3))},e.lockedValidation=function(t){var n=e.props,a=n.boxPasscode,r=n.onUnlocking,s=n.onReady,o=n.onChangeLockStatus,c=n.onService,l=n.onError;t===a?(r(),setTimeout((function(){s(),o()}),3e3)):"000000"===t?c():l()},e.serviceValidation=function(t){var n=e.props,a=n.onValidating,r=n.serialNumber,s=n.onUnlocking,o=n.onReset,c=n.onError;a(),fetch("https://9w4qucosgf.execute-api.eu-central-1.amazonaws.com/default/CR-JS_team_M02a?code="+t).then((function(e){return e.json()})).then((function(e){e.sn===r?(s(),setTimeout((function(){o()}),3e3)):c()})).catch((function(e){console.error("Something went wrong with fetch operation:",e)}))},e.validate=function(){var t=e.props,n=t.passcode,a=t.lockStatus,r=t.statusMessage;switch(a){case"Unlocked":e.unlockedValidation(n);break;case"Locked":"Service"===r?e.serviceValidation(n):e.lockedValidation(n);break;default:throw new Error("Something went wrong! Check lockStatus value...")}},e.handleScreenOff=function(){var t=e.props,n=t.timerScreenOff,a=t.onClearScreenOffTimer,r=t.onUpdateScreen,s=t.onEnableButtons;clearInterval(n),a(),r(),s()},e.handleCheckPasscode=function(){var t=e.props,n=t.timerCheckPasscode,a=t.onClearCheckPasscodeTimer,r=t.onDisableButtons,s=t.enteringPasscode,o=t.onEnteringPasscode;clearInterval(n),a(),r(),s&&o(),e.validate()},e.handleKeypadButtonClicked=function(t,n){t.preventDefault();var a=e.props,r=a.statusMessage,s=a.onEnableButtons,o=a.disableButtons,c=a.screenIsOff,l=a.onUpdateScreen,u=a.onEnteringPasscode,i=a.enteringPasscode,d=a.timerScreenOff,_=a.timerCheckPasscode,b=a.onSetScreenOffTimer,f=a.onSetCheckPasscodeTimer,E=a.passcode,S=a.onUpdatePasscode;("Service"===r&&s(),o)||(c&&(l(),u()),"Service"!==r||i||u(),clearInterval(d),clearInterval(_),b(e.handleScreenOff),f(e.handleCheckPasscode),S(E+n))},e}return Object(l.a)(n,[{key:"handleKeyboardEvent",value:function(e){if(this.keyboardKeys.includes(e.key)){var t=e.key,n=null;switch(t){case"l":n="L";break;case"a":case"A":n="L";break;case"b":case"B":n="*";break;case"ArrowUp":n="8";break;case"ArrowDown":n="2";break;case"ArrowLeft":n="4";break;case"ArrowRight":n="6";break;default:n=t}this.handleKeypadButtonClicked(e,n)}}},{key:"componentDidMount",value:function(){document.addEventListener("keyup",this.handleKeyboardEvent.bind(this),!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keyup",this.handleKeyboardEvent.bind(this),!1)}},{key:"render",value:function(){var e=this,t=this.keypadButtons.map((function(t){return r.a.createElement(m,{key:t.button,symbol:t.symbol,clicked:function(n){return e.handleKeypadButtonClicked(n,t.button)}},t.button)}));return r.a.createElement("div",{className:O.a.numberKeypad},t)}}]),n}(a.Component),h=Object(d.b)((function(e){return{timerScreenOff:e.timerScreenOff,timerCheckPasscode:e.timerCheckPasscode,passcode:e.passcode,screenIsOff:e.screenIsOff,statusMessage:e.statusMessage,lockStatus:e.lockStatus,boxPasscode:e.boxPasscode,enteringPasscode:e.enteringPasscode,serialNumber:e.serialNumber,disableButtons:e.disableButtons}}),(function(e){return{onDisableButtons:function(){return e({type:"DISABLE_BUTTONS"})},onEnableButtons:function(){return e({type:"ENABLE_BUTTONS"})},onReset:function(){return e({type:"RESET"})},onValidating:function(){return e({type:"VALIDATING"})},onService:function(){return e({type:"SERVICE"})},onChangeLockStatus:function(){return e({type:"CHANGE_LOCK_STATUS"})},onReady:function(){return e({type:"READY"})},onLocking:function(){return e({type:"SET_LOCKING"})},onUnlocking:function(){return e({type:"SET_UNLOCKING"})},onError:function(){return e({type:"ERROR"})},onSetBoxPasscode:function(){return e({type:"SET_BOX_PASSCODE"})},onUpdateScreen:function(){return e({type:"UPDATE_SCREEN"})},onUpdatePasscode:function(t){return e({type:"UPDATE_PASSCODE",value:t})},onSetScreenOffTimer:function(t){return e({type:"SET_SCREEN_OFF_TIMER",callbackFunc:t})},onSetCheckPasscodeTimer:function(t){return e({type:"SET_CHECK_PASSCODE_TIMER",callbackFunc:t})},onClearScreenOffTimer:function(){return e({type:"CLEAR_SCREEN_OFF_TIMER"})},onClearCheckPasscodeTimer:function(){return e({type:"CLEAR_CHECK_PASSCODE_TIMER"})},onEnteringPasscode:function(){return e({type:"ENTERING_PASSCODE"})}}}))(y),g=n(15),v=n.n(g),C=function(){return r.a.createElement("div",{className:v.a.controlPanel},r.a.createElement(E,null),r.a.createElement(h,null),r.a.createElement("div",{className:v.a.controlPanel__Serial},"S/N: 4815162342"))},P=n(2),T=n.n(P),N=function(){return r.a.createElement("div",{className:T.a.userManual},r.a.createElement("div",{className:T.a.userManual__Container},r.a.createElement("p",{className:T.a.userManual__Paragraph},"Locking:"),r.a.createElement("ul",{className:T.a.userManual__List},r.a.createElement("li",null,"Before closing doors enter any 6 digit passcode. Remember the passcode!"),r.a.createElement("li",null,"Close the door and press lock button [L] to lock the safe.")),r.a.createElement("p",{className:T.a.userManual__Paragraph},"Unlocking:"),r.a.createElement("ul",{className:T.a.userManual__List},r.a.createElement("li",null,"Enter your 6 digit passcode. If you can\u2019t remember passcode, please call reception to help you for a small fee of 5\u20ac."),r.a.createElement("li",null,"Please leave the door open before checking out from hotel."))))};n(31);var M=function(){return r.a.createElement("div",{className:"container"},r.a.createElement(C,null),r.a.createElement(N,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var R=n(8),B=n(1),L={boxPasscode:"",passcode:"",lockStatus:"Unlocked",statusMessage:"",screenIsOff:!0,serialNumber:"4815162342",timerScreenOff:null,timerCheckPasscode:null,enteringPasscode:!1,beforeError:"",disableButtons:!1},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_LOCK_STATUS":return Object(B.a)({},e,{lockStatus:"Unlocked"===e.lockStatus?"Locked":"Unlocked"});case"READY":return Object(B.a)({},e,{statusMessage:"Ready"});case"SET_LOCKING":return Object(B.a)({},e,{statusMessage:"Locking..."});case"SET_UNLOCKING":return Object(B.a)({},e,{statusMessage:"Unlocking..."});case"ERROR":return Object(B.a)({},e,{beforeError:"Error"===e.statusMessage?e.beforeError:e.statusMessage,statusMessage:"Error",passcode:""});case"SET_BOX_PASSCODE":return Object(B.a)({},e,{boxPasscode:e.passcode.slice(0,6),passcode:""});case"UPDATE_SCREEN":return Object(B.a)({},e,{screenIsOff:!e.screenIsOff});case"UPDATE_PASSCODE":return Object(B.a)({},e,{passcode:t.value});case"SET_CHECK_PASSCODE_TIMER":return Object(B.a)({},e,{timerCheckPasscode:setInterval(t.callbackFunc,1200)});case"SET_SCREEN_OFF_TIMER":return Object(B.a)({},e,{timerScreenOff:setInterval(t.callbackFunc,5e3)});case"CLEAR_CHECK_PASSCODE_TIMER":return Object(B.a)({},e,{timerCheckPasscode:null});case"CLEAR_SCREEN_OFF_TIMER":var n=null;return n="Ready"===e.beforeError||"Validating..."===e.beforeError?"Ready":"",Object(B.a)({},e,{timerScreenOff:null,statusMessage:"Ready"!==e.statusMessage?n:e.statusMessage,passcode:""});case"ENTERING_PASSCODE":return Object(B.a)({},e,{enteringPasscode:!e.enteringPasscode});case"SERVICE":return Object(B.a)({},e,{statusMessage:"Service",passcode:""});case"VALIDATING":return Object(B.a)({},e,{statusMessage:"Validating..."});case"RESET":return Object(B.a)({},e,{boxPasscode:"",passcode:"",lockStatus:"Unlocked",statusMessage:"",enteringPasscode:!1,beforeError:""});case"DISABLE_BUTTONS":return Object(B.a)({},e,{disableButtons:!0});case"ENABLE_BUTTONS":return Object(B.a)({},e,{disableButtons:!1});default:return Object(B.a)({},e)}},I=function(){try{var e=sessionStorage.getItem("state");if(null===e)return;return JSON.parse(e)}catch(t){return void console.log(t)}}(),w=Object(R.b)(A,I,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());w.subscribe((function(){return function(e){try{var t=JSON.stringify(e);sessionStorage.setItem("state",t)}catch(n){console.log(n)}}(w.getState())}));var U=r.a.createElement(d.a,{store:w},r.a.createElement(M,null));o.a.render(U,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[19,1,2]]]);
//# sourceMappingURL=main.6b2526c2.chunk.js.map